{"version":3,"sources":["../../../../src/components/DropZone/DropZone.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { callMultiple } from '../../lib/callMultiple';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { DropZoneGrid } from './components/DropZoneGrid';\nimport styles from './DropZone.module.css';\n\ninterface DropZonePropsChildrenProps {\n  active: boolean;\n}\n\nexport interface DropZoneProps extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'children'> {\n  children?: React.ReactNode | ((renderProps: DropZonePropsChildrenProps) => React.ReactNode);\n}\n\n/**\n * Компонент позволяет пользователям загружать файлы, перетаскивая файлы в\n * область на странице.\n *\n * @since 6.1.0\n * @see https://vkcom.github.io/VKUI/#/DropZone\n */\nexport const DropZone: React.FC<DropZoneProps> & {\n  Grid: typeof DropZoneGrid;\n} = ({ onDragOver, onDragLeave, onDrop, children, ...props }: DropZoneProps): React.ReactNode => {\n  const [active, setActive] = React.useState(false);\n\n  const onActive: React.DragEventHandler<HTMLDivElement> = (event) => {\n    if (event.isPropagationStopped()) {\n      return;\n    }\n\n    setActive(true);\n  };\n\n  const offActive: React.DragEventHandler<HTMLDivElement> = () => {\n    setActive(false);\n  };\n\n  return (\n    <RootComponent\n      baseClassName={classNames(styles['DropZone'], active && styles['DropZone--active'])}\n      onDragOver={callMultiple(onDragOver, onActive)}\n      onDragLeave={callMultiple(onDragLeave, offActive)}\n      onDrop={callMultiple(onDrop, offActive)}\n      {...props}\n    >\n      {typeof children === 'function' ? children({ active }) : children}\n    </RootComponent>\n  );\n};\n\nDropZone.displayName = 'DropZone';\n\nDropZone.Grid = DropZoneGrid;\nDropZone.Grid.displayName = 'DropZone.Grid';\n"],"names":["DropZone","onDragOver","onDragLeave","onDrop","children","props","active","setActive","React","useState","onActive","event","isPropagationStopped","offActive","RootComponent","baseClassName","classNames","callMultiple","displayName","Grid","DropZoneGrid"],"mappings":";;;;+BAuBaA;;;eAAAA;;;;;;;;iEAvBU;sBACI;8BACE;+BAEC;8BACD;AAkBtB,MAAMA,WAET;QAAC,EAAEC,UAAU,EAAEC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,EAA2B,WAAtBC;QAA9CJ;QAAYC;QAAaC;QAAQC;;IACtC,MAAM,CAACE,QAAQC,UAAU,GAAGC,OAAMC,QAAQ,CAAC;IAE3C,MAAMC,WAAmD,CAACC;QACxD,IAAIA,MAAMC,oBAAoB,IAAI;YAChC;QACF;QAEAL,UAAU;IACZ;IAEA,MAAMM,YAAoD;QACxDN,UAAU;IACZ;IAEA,qBACE,qBAACO,4BAAa;QACZC,eAAeC,IAAAA,gBAAU,kBAAqBV;QAC9CL,YAAYgB,IAAAA,0BAAY,EAAChB,YAAYS;QACrCR,aAAae,IAAAA,0BAAY,EAACf,aAAaW;QACvCV,QAAQc,IAAAA,0BAAY,EAACd,QAAQU;OACzBR;kBAEH,OAAOD,aAAa,aAAaA,SAAS;YAAEE;QAAO,KAAKF;;AAG/D;AAEAJ,SAASkB,WAAW,GAAG;AAEvBlB,SAASmB,IAAI,GAAGC,0BAAY;AAC5BpB,SAASmB,IAAI,CAACD,WAAW,GAAG"}