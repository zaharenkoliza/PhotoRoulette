{"version":3,"sources":["../../../../src/components/ConfigProvider/ConfigProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { IconAppearanceProvider } from '@vkontakte/icons';\nimport { useAutoDetectAppearance } from '../../hooks/useAutoDetectAppearance';\nimport { useObjectMemo } from '../../hooks/useObjectMemo';\nimport { TokensClassProvider } from '../../lib/tokens';\nimport { excludeKeysWithUndefined } from '../../lib/utils';\nimport {\n  ConfigProviderContext,\n  type ConfigProviderContextInterface,\n  useConfigProvider,\n} from './ConfigProviderContext';\n\nexport interface ConfigProviderProps extends Partial<ConfigProviderContextInterface> {\n  children: React.ReactNode;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ConfigProvider\n */\nexport const ConfigProvider = (propsRaw: ConfigProviderProps): React.ReactNode => {\n  const props = excludeKeysWithUndefined(propsRaw);\n  const parentConfig = useConfigProvider();\n\n  const {\n    children,\n    hasCustomPanelHeaderAfter,\n    customPanelHeaderAfterMinWidth,\n    isWebView,\n    transitionMotionEnabled,\n    platform,\n    locale,\n    appearance: appearanceProp,\n    tokensClassNames,\n  } = {\n    ...parentConfig,\n    ...props,\n  };\n\n  const appearance = useAutoDetectAppearance(appearanceProp);\n\n  const configContext = useObjectMemo({\n    hasCustomPanelHeaderAfter,\n    customPanelHeaderAfterMinWidth,\n    isWebView,\n    transitionMotionEnabled,\n    platform,\n    locale,\n    tokensClassNames,\n    appearance,\n  });\n\n  return (\n    <ConfigProviderContext.Provider value={configContext}>\n      <IconAppearanceProvider value={appearance}>\n        <TokensClassProvider>{children}</TokensClassProvider>\n      </IconAppearanceProvider>\n    </ConfigProviderContext.Provider>\n  );\n};\n"],"names":["ConfigProvider","propsRaw","props","excludeKeysWithUndefined","parentConfig","useConfigProvider","children","hasCustomPanelHeaderAfter","customPanelHeaderAfterMinWidth","isWebView","transitionMotionEnabled","platform","locale","appearance","appearanceProp","tokensClassNames","useAutoDetectAppearance","configContext","useObjectMemo","ConfigProviderContext","Provider","value","IconAppearanceProvider","TokensClassProvider"],"mappings":";;;;+BAmBaA;;;eAAAA;;;;;;iEAnBU;uBACgB;yCACC;+BACV;wBACM;uBACK;uCAKlC;AASA,MAAMA,iBAAiB,CAACC;IAC7B,MAAMC,QAAQC,IAAAA,+BAAwB,EAACF;IACvC,MAAMG,eAAeC,IAAAA,wCAAiB;IAEtC,MAAM,EACJC,QAAQ,EACRC,yBAAyB,EACzBC,8BAA8B,EAC9BC,SAAS,EACTC,uBAAuB,EACvBC,QAAQ,EACRC,MAAM,EACNC,YAAYC,cAAc,EAC1BC,gBAAgB,EACjB,GAAG,qBACCX,cACAF;IAGL,MAAMW,aAAaG,IAAAA,gDAAuB,EAACF;IAE3C,MAAMG,gBAAgBC,IAAAA,4BAAa,EAAC;QAClCX;QACAC;QACAC;QACAC;QACAC;QACAC;QACAG;QACAF;IACF;IAEA,qBACE,qBAACM,4CAAqB,CAACC,QAAQ;QAACC,OAAOJ;kBACrC,cAAA,qBAACK,6BAAsB;YAACD,OAAOR;sBAC7B,cAAA,qBAACU,2BAAmB;0BAAEjB;;;;AAI9B"}